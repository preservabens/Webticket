<div class="page-header">
  <div class="page-title-group">
    <button type="button" class="page-header-btn page-menu-toggle-btn">☰</button>
    <h2>Tarefas</h2>
  </div>
  <button type="button" id="btn-proxima-tarefa" class="page-header-btn">Próxima Tarefa</button>
</div>
<p>Gerencie suas tarefas diárias e acompanhe o progresso.</p>
<br>

<div class="accordion-container">
  <!-- Grupo de Busca -->
  <details class="accordion-group">
    <summary class="accordion-title">Busca</summary>
    <div class="accordion-content">
      <div class="search-controls">
        <input type="text" id="search-input" class="form-input" placeholder="Digite o ID, título ou parte do resumo da tarefa...">
        <button type="button" id="btn-buscar" class="page-header-btn">Buscar</button>
      </div>

      <!-- Tabela 1: Processos (inicialmente oculta) -->
      <div id="search-results-processos" class="search-step" style="display: none;">
        <h5>1. Selecione o Processo:</h5>
        <div class="table-container">
          <table class="point-table">
            <thead><tr><th>ID</th><th>Processo</th><th>Responsável</th></tr></thead>
            <tbody>
              <tr class="selectable-row" data-process-id="1"><td>15</td><td>Nova Locação</td><td>Ana</td></tr>
              <tr class="selectable-row" data-process-id="2"><td>22</td><td>Manutenção de Imóvel</td><td>Carlos</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Tabela 2: Tarefas do Processo (inicialmente oculta) -->
      <div id="search-results-tarefas" class="search-step" style="display: none;">
        <h5>2. Selecione a Tarefa:</h5>
        <div class="table-container">
          <table class="point-table">
            <thead><tr><th>ID</th><th>Tarefa</th><th>Status</th></tr></thead>
            <tbody>
              <tr class="selectable-row" data-task-id="1466"><td>1466</td><td>Nova Locação Rio das Pedras 301</td><td>Em andamento</td></tr>
              <tr class="selectable-row" data-task-id="1890"><td>1890</td><td>Verificar documentação</td><td>Pendente</td></tr>
            </tbody>
          </table>
        </div>
        <br>
        <button type="button" id="btn-trabalhar-chamado" class="page-header-btn" data-task-id="1466" style="display: none;">Trabalhar com esse chamado</button>
      </div>

      <!-- Detalhes Finais (inicialmente ocultos) -->
      <div id="search-final-details" class="search-step" style="display: none;">
        <!-- O conteúdo detalhado da tarefa será injetado aqui pelo JS -->
      </div>
    </div>
  </details>

  <!-- Grupo Lista de Tarefas -->
  <details class="accordion-group">
    <summary class="accordion-title" data-section="lista-tarefas">Lista de Tarefas</summary>
    <div class="accordion-content">
      <div class="search-controls">
        <button type="button" id="btn-proxima-tarefa-accordion" class="page-header-btn">Próxima Tarefa</button>
      </div>
      <div class="table-container">
        <table class="point-table">
          <thead>
            <tr>
              <th>Código</th>
              <th>Prioridade</th>
              <th>Data Conclusão</th>
              <th>Tipo</th>
              <th>Título</th>
              <th>Relação</th>
            </tr>
          </thead>
          <tbody>
            <!-- O conteúdo da tabela será preenchido dinamicamente -->
          </tbody>
        </table>
      </div>
    </div>
  </details>

  <!-- Grupo Tarefa Selecionada -->
  <details class="accordion-group" open>
    <summary class="accordion-title" data-section="tarefa-selecionada">Tarefa Selecionada</summary>
    <div class="accordion-content"></div>
  </details>
</div>